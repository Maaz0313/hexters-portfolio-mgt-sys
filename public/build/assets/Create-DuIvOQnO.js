import{m as j,j as e,L as v,$ as N}from"./Layout-BFS5gtk9.js";import{C as l}from"./checkbox-B9qFfRQ7.js";import{L as m}from"./label-CEKhsEFt.js";import{A as y,X as w}from"./app-layout-jEZKEoje.js";import{S as C}from"./save-DWA_gTmn.js";import"./button-DHEMKb3Q.js";import"./index-DP9BSvV7.js";import"./index-DlY1O6XI.js";import"./app-CpvZPBdQ.js";import"./createLucideIcon-D_KW33HM.js";const k=[{title:"Dashboard",href:"/dashboard"},{title:"Roles",href:"/dashboard/roles"},{title:"Create",href:"/dashboard/roles/create"}],z=({groupedPermissions:p})=>{const{data:i,setData:d,post:x,errors:o,reset:u}=j({name:"",description:"",permissions:[]}),h=s=>{s.preventDefault(),x(route("admin.roles.store"),{onSuccess:()=>u()})},b=(s,t)=>{t?d("permissions",[...i.permissions,s]):d("permissions",i.permissions.filter(r=>r!==s))},f=(s,t)=>{const r=s.map(a=>a.id);if(t){const a=[...i.permissions];r.forEach(c=>{a.includes(c)||a.push(c)}),d("permissions",a)}else d("permissions",i.permissions.filter(a=>!r.includes(a)))},n=s=>s.every(t=>i.permissions.includes(t.id)),g=s=>s.some(t=>i.permissions.includes(t.id))&&!n(s);return e.jsxs(y,{breadcrumbs:k,children:[e.jsx(v,{title:"Create Role"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-card overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"bg-card border-border border-b p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"title-text text-primary text-2xl font-bold",children:"Create Role"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(N,{href:route("admin.roles.index"),className:"bg-muted text-muted-foreground hover:bg-muted/80 active:bg-muted/70 ring-muted inline-flex cursor-pointer items-center rounded-md border border-transparent px-4 py-2 text-xs font-semibold tracking-widest uppercase transition focus:ring focus:outline-none disabled:opacity-25",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Cancel"]})})]}),e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 md:col-span-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"text-card-foreground block text-sm font-medium",children:["Name ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx("input",{type:"text",id:"name",value:i.name,onChange:s=>d("name",s.target.value),className:"bg-muted border-border text-card-foreground focus:border-accent focus:ring-accent focus:ring-opacity-50 mt-1 block w-full rounded-md shadow-sm focus:ring",required:!0}),o.name&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:o.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"text-card-foreground block text-sm font-medium",children:"Description"}),e.jsx("textarea",{id:"description",value:i.description,onChange:s=>d("description",s.target.value),rows:3,className:"bg-muted border-border text-card-foreground focus:border-accent focus:ring-accent focus:ring-opacity-50 mt-1 block w-full rounded-md shadow-sm focus:ring",placeholder:"Provide a description of this role's purpose and responsibilities"}),o.description&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:o.description})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-card-foreground mb-2 block text-sm font-medium",children:["Permissions ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsxs("div",{className:"border-border bg-muted max-h-96 space-y-4 overflow-y-auto rounded-md border p-4",children:[Object.entries(p).map(([s,t])=>e.jsxs("div",{className:"border-border mb-4 rounded-md border p-4",children:[e.jsxs("div",{className:"mb-3 flex items-center space-x-2",children:[e.jsx(l,{id:`group-${s}`,checked:n(t),indeterminate:g(t),onCheckedChange:r=>f(t,r===!0)}),e.jsx(m,{htmlFor:`group-${s}`,className:"cursor-pointer font-medium capitalize",children:s})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2 pl-6 md:grid-cols-2",children:t.map(r=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{id:`permission-${r.id}`,checked:i.permissions.includes(r.id),onCheckedChange:a=>b(r.id,a===!0)}),e.jsx(m,{htmlFor:`permission-${r.id}`,className:"cursor-pointer",children:r.name})]},r.id))})]},s)),o.permissions&&e.jsx("p",{className:"text-accent mt-2 text-sm",children:o.permissions})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"submit",className:"bg-primary text-primary-foreground hover:bg-opacity-90 active:bg-opacity-80 ring-primary inline-flex w-full cursor-pointer items-center justify-center rounded-md border border-transparent px-4 py-2 text-xs font-semibold tracking-widest uppercase transition focus:ring focus:outline-none disabled:opacity-25",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Save Role"]})})]})]})})]})})})})]})};export{z as default};
