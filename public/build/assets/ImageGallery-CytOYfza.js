import{r as f,j as e}from"./Layout-BFS5gtk9.js";import{c as j}from"./createLucideIcon-D_KW33HM.js";import{T as x}from"./trash-CWMpZJs9.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],n=j("Star",b),w=({images:t,onDelete:r,onSetFeatured:o,editable:h=!1,behanceStyle:g=!1})=>{console.log("ImageGallery received images:",t);const i=a=>a?a.startsWith("/storage/")?a:a.startsWith("/")?`/storage${a}`:`/storage/${a}`:"",[s,u]=f.useState(t.length>0?t[0]:null),c=[...t].sort((a,l)=>{const m=a.display_order??0,p=l.display_order??0;return m-p}),d=t.find(a=>a.is_featured)||(t.length>0?t[0]:null);return g?e.jsxs("div",{className:"space-y-6",children:[d&&e.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-100",children:[e.jsx("img",{src:i(d.image_path),alt:d.alt_text||"Featured portfolio image",className:"h-auto max-h-[600px] w-full object-contain",onError:()=>{console.error("Image failed to load:",d.image_path)}}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:"rounded-md bg-yellow-500 px-2 py-1 text-xs font-bold text-white",children:"Featured"})})]}),c.filter(a=>!a.is_featured).map(a=>e.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-100",children:[e.jsx("img",{src:i(a.image_path),alt:a.alt_text||"Portfolio image",className:"h-auto w-full object-contain",onError:()=>{console.error("Image failed to load:",a.image_path)}}),h&&e.jsxs("div",{className:"absolute top-2 right-2 flex space-x-2",children:[!a.is_featured&&o&&e.jsx("button",{onClick:l=>{l.stopPropagation(),o(a.id)},className:"rounded-full bg-yellow-500 p-2 text-white transition-colors hover:bg-yellow-600",title:"Set as featured image",children:e.jsx(n,{className:"h-4 w-4"})}),r&&e.jsx("button",{onClick:l=>{l.stopPropagation(),r(a.id)},className:"rounded-full bg-red-500 p-2 text-white transition-colors hover:bg-red-600",title:"Delete image",children:e.jsx(x,{className:"h-4 w-4"})})]})]},a.id)),t.length===0&&e.jsx("div",{className:"flex h-40 items-center justify-center rounded-lg bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"No images available"})})]}):e.jsxs("div",{className:"flex flex-col space-y-4",children:[s&&e.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-100",children:[e.jsx("img",{src:i(s.image_path),alt:s.alt_text||"Portfolio image",className:"h-auto max-h-[500px] w-full object-contain",onError:()=>{console.error("Image failed to load:",s.image_path)}}),s.is_featured&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:"rounded-md bg-yellow-500 px-2 py-1 text-xs font-bold text-white",children:"Featured"})})]}),c.length>0&&e.jsx("div",{className:"grid grid-cols-5 gap-2",children:c.map(a=>e.jsxs("div",{className:`relative cursor-pointer overflow-hidden rounded-md ${(s==null?void 0:s.id)===a.id?"ring-primary ring-2":""}`,onClick:()=>u(a),children:[e.jsx("img",{src:i(a.image_path),alt:a.alt_text||"Thumbnail",className:"h-20 w-full object-cover",onError:l=>{console.error("Thumbnail failed to load:",a.image_path),l.currentTarget.src="/images/placeholder.png"}}),a.is_featured&&e.jsx("div",{className:"absolute top-1 left-1",children:e.jsx("div",{className:"bg-opacity-70 rounded-full bg-yellow-500 p-1",children:e.jsx(n,{className:"h-3 w-3 fill-white text-white"})})}),h&&e.jsxs(e.Fragment,{children:[r&&e.jsx("div",{className:"absolute top-1 right-1",children:e.jsx("button",{onClick:l=>{l.stopPropagation(),r(a.id)},className:"bg-opacity-70 rounded-full bg-red-500 p-1 text-white transition-colors hover:bg-red-600",title:"Delete image",children:e.jsx(x,{className:"h-3 w-3"})})}),!a.is_featured&&o&&e.jsx("div",{className:"absolute top-1 left-1",children:e.jsx("button",{onClick:l=>{l.stopPropagation(),o(a.id)},className:"bg-opacity-70 rounded-full bg-yellow-500 p-1 text-white transition-colors hover:bg-yellow-600",title:"Set as featured image",children:e.jsx(n,{className:"h-3 w-3"})})})]})]},a.id))}),t.length===0&&e.jsx("div",{className:"flex h-40 items-center justify-center rounded-lg bg-gray-100",children:e.jsx("p",{className:"text-gray-500",children:"No images available"})})]})};export{w as I};
