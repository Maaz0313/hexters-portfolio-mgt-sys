import{m as f,j as e,L as g,$ as o}from"./Layout-BFS5gtk9.js";import{C as c}from"./checkbox-B9qFfRQ7.js";import{I as n}from"./input-57RDWpng.js";import{L as t}from"./label-CEKhsEFt.js";import{A as v,X as N,F as b}from"./app-layout-jEZKEoje.js";import"./button-DHEMKb3Q.js";import"./index-DP9BSvV7.js";import"./index-DlY1O6XI.js";import"./app-CpvZPBdQ.js";import"./createLucideIcon-D_KW33HM.js";const D=({user:a,roles:m})=>{const x=[{title:"Dashboard",href:"/dashboard"},{title:"Users",href:"/dashboard/users"},{title:a.name,href:`/dashboard/users/${a.id}`},{title:"Edit",href:`/dashboard/users/${a.id}/edit`}],{data:i,setData:d,put:p,errors:r}=f({name:a.name,email:a.email,password:"",password_confirmation:"",roles:a.roles.map(s=>s.id),is_admin:a.is_admin}),h=s=>{s.preventDefault(),p(route("admin.users.update",a.id))},u=(s,l)=>{l?d("roles",[...i.roles,s]):d("roles",i.roles.filter(j=>j!==s))};return e.jsxs(v,{breadcrumbs:x,children:[e.jsx(g,{title:`Edit User: ${a.name}`}),e.jsx("div",{className:"py-12",children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("h1",{className:"title-text text-primary text-3xl font-bold",children:["Edit User: ",a.name]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(o,{href:route("admin.users.index"),className:"bg-muted text-muted-foreground hover:bg-muted/80 ring-muted inline-flex cursor-pointer items-center rounded-md border border-transparent px-4 py-2 text-xs font-semibold tracking-widest uppercase transition focus:ring focus:outline-none disabled:opacity-25",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Cancel"]}),e.jsxs(o,{href:route("admin.users.show",a.id),className:"bg-accent text-accent-foreground hover:bg-accent/80 ring-accent inline-flex cursor-pointer items-center rounded-md border border-transparent px-4 py-2 text-xs font-semibold tracking-widest uppercase transition focus:ring focus:outline-none disabled:opacity-25",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"View"]})]})]}),e.jsx("div",{className:"bg-card overflow-hidden rounded-lg shadow-sm",children:e.jsx("form",{id:"userForm",onSubmit:h,className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"name",children:["Name ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx(n,{id:"name",value:i.name,onChange:s=>d("name",s.target.value),required:!0}),r.name&&e.jsx("p",{className:"text-destructive text-sm",children:r.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx(n,{id:"email",type:"email",value:i.email,onChange:s=>d("email",s.target.value),required:!0}),r.email&&e.jsx("p",{className:"text-destructive text-sm",children:r.email})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password",children:"Password (leave blank to keep current)"}),e.jsx(n,{id:"password",type:"password",value:i.password,onChange:s=>d("password",s.target.value)}),r.password&&e.jsx("p",{className:"text-destructive text-sm",children:r.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{htmlFor:"password_confirmation",children:"Confirm Password"}),e.jsx(n,{id:"password_confirmation",type:"password",value:i.password_confirmation,onChange:s=>d("password_confirmation",s.target.value)})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(t,{children:"Roles"}),e.jsxs("div",{className:"border-border rounded-md border p-4",children:[e.jsx("div",{className:"grid grid-cols-1 gap-2 md:grid-cols-3",children:m.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:`role-${s.id}`,checked:i.roles.includes(s.id),onCheckedChange:l=>u(s.id,l)}),e.jsx(t,{htmlFor:`role-${s.id}`,className:"cursor-pointer",children:s.name})]},s.id))}),r.roles&&e.jsx("p",{className:"text-destructive mt-2 text-sm",children:r.roles})]})]}),e.jsxs("div",{className:"border-border rounded-md border p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{id:"is_admin",checked:i.is_admin,onCheckedChange:s=>d("is_admin",s)}),e.jsx(t,{htmlFor:"is_admin",className:"cursor-pointer font-medium",children:"Administrator Access"})]}),e.jsx("p",{className:"text-muted-foreground mt-2 pl-6 text-sm",children:"Administrators have full access to all features regardless of assigned roles."}),r.is_admin&&e.jsx("p",{className:"text-destructive mt-2 text-sm",children:r.is_admin})]})]})})})]})})]})};export{D as default};
