import{m as w,r as x,j as e,L as _,$ as k}from"./Layout-BFS5gtk9.js";import{A as C,X as F}from"./app-layout-jEZKEoje.js";import{S as T}from"./save-DWA_gTmn.js";import"./button-DHEMKb3Q.js";import"./index-DP9BSvV7.js";import"./index-DlY1O6XI.js";import"./app-CpvZPBdQ.js";import"./createLucideIcon-D_KW33HM.js";const S=[{title:"Dashboard",href:"/dashboard"},{title:"Blog Posts",href:"/dashboard/blog-posts"},{title:"Create",href:"/dashboard/blog-posts/create"}],$=({categories:g,tags:l})=>{const{data:c,setData:a,post:h,processing:n,errors:s,reset:f}=w({title:"",category_id:"",excerpt:"",content:"",featured_image:null,thumbnail_image:null,is_published:!1,tags:[]}),[m,b]=x.useState(null),[u,p]=x.useState(null),j=t=>{t.preventDefault(),h(route("admin.blog-posts.store"),{forceFormData:!0,onSuccess:()=>f()})},N=t=>{if(t.target.files&&t.target.files[0]){const r=t.target.files[0];a("featured_image",r);const o=new FileReader;o.onload=d=>{var i;b((i=d.target)==null?void 0:i.result)},o.readAsDataURL(r)}},v=t=>{if(t.target.files&&t.target.files[0]){const r=t.target.files[0];a("thumbnail_image",r);const o=new FileReader;o.onload=d=>{var i;p((i=d.target)==null?void 0:i.result)},o.readAsDataURL(r)}},y=t=>{const r=[...c.tags],o=r.indexOf(t);o===-1?a("tags",[...r,t]):(r.splice(o,1),a("tags",r))};return e.jsxs(C,{breadcrumbs:S,children:[e.jsx(_,{title:"Create Blog Post"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-card overflow-hidden shadow-sm sm:rounded-lg",children:e.jsxs("div",{className:"bg-card border-border border-b p-6",children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h1",{className:"title-text text-primary text-2xl font-bold",children:"Create Blog Post"}),e.jsx("div",{className:"flex space-x-2",children:e.jsxs(k,{href:route("admin.blog-posts.index"),className:"bg-muted text-muted-foreground hover:bg-muted/80 active:bg-muted/70 ring-muted inline-flex cursor-pointer items-center rounded-md border border-transparent px-4 py-2 text-xs font-semibold tracking-widest uppercase transition focus:ring focus:outline-none disabled:opacity-25",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Cancel"]})})]}),e.jsx("form",{onSubmit:j,children:e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 md:col-span-2",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"text-card-foreground block text-sm font-medium",children:["Title ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx("input",{type:"text",id:"title",value:c.title,onChange:t=>a("title",t.target.value),className:"bg-muted border-border text-card-foreground focus:border-accent focus:ring-accent focus:ring-opacity-50 mt-1 block w-full rounded-md shadow-sm focus:ring",required:!0}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"The URL slug will be automatically generated from the title."}),s.title&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.title})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"excerpt",className:"text-card-foreground block text-sm font-medium",children:"Excerpt"}),e.jsx("textarea",{id:"excerpt",value:c.excerpt,onChange:t=>a("excerpt",t.target.value),rows:3,className:"bg-muted border-border text-card-foreground focus:border-accent focus:ring-accent focus:ring-opacity-50 mt-1 block w-full rounded-md shadow-sm focus:ring"}),s.excerpt&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.excerpt})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"content",className:"text-card-foreground block text-sm font-medium",children:["Content ",e.jsx("span",{className:"text-accent",children:"*"})]}),e.jsx("textarea",{id:"content",value:c.content,onChange:t=>a("content",t.target.value),rows:15,className:"bg-muted border-border text-card-foreground focus:border-accent focus:ring-accent focus:ring-opacity-50 mt-1 block w-full rounded-md shadow-sm focus:ring",required:!0}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:'You can use HTML tags for formatting. For example, use <h2> for headings, <p> for paragraphs, <a href="..."> for links, etc.'}),s.content&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.content})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"featured_image",className:"text-card-foreground block text-sm font-medium",children:"Featured Image"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("input",{type:"file",id:"featured_image",onChange:N,className:"sr-only",accept:"image/*"}),e.jsx("label",{htmlFor:"featured_image",className:"bg-muted border-border text-muted-foreground hover:bg-muted/80 focus:ring-accent inline-flex cursor-pointer items-center rounded-md border px-4 py-2 text-xs font-semibold tracking-widest uppercase shadow-sm transition focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:opacity-25",children:"Select Image"})]}),m&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:m,alt:"Preview",className:"h-40 w-full rounded-md object-cover"})}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"This image will be displayed on the blog post page."}),s.featured_image&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.featured_image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"thumbnail_image",className:"text-card-foreground block text-sm font-medium",children:"Thumbnail Image"}),e.jsxs("div",{className:"mt-1 flex items-center",children:[e.jsx("input",{type:"file",id:"thumbnail_image",onChange:v,className:"sr-only",accept:"image/*"}),e.jsx("label",{htmlFor:"thumbnail_image",className:"bg-muted border-border text-muted-foreground hover:bg-muted/80 focus:ring-accent inline-flex cursor-pointer items-center rounded-md border px-4 py-2 text-xs font-semibold tracking-widest uppercase shadow-sm transition focus:ring-2 focus:ring-offset-2 focus:outline-none disabled:opacity-25",children:"Select Thumbnail"})]}),u&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:u,alt:"Thumbnail Preview",className:"h-40 w-full rounded-md object-cover"})}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"This image will be displayed on blog cards. If not provided, the featured image will be used."}),s.thumbnail_image&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.thumbnail_image})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category_id",className:"text-card-foreground block text-sm font-medium",children:"Category"}),e.jsxs("select",{id:"category_id",value:c.category_id,onChange:t=>a("category_id",t.target.value),className:"bg-muted border-border text-card-foreground focus:border-accent focus:ring-accent focus:ring-opacity-50 mt-1 block w-full rounded-md shadow-sm focus:ring",children:[e.jsx("option",{value:"",children:"Select a category"}),g.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),s.category_id&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.category_id})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-card-foreground mb-2 block text-sm font-medium",children:"Tags"}),e.jsxs("div",{className:"border-border bg-muted max-h-60 space-y-2 overflow-y-auto rounded-md border p-2",children:[l.map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`tag-${t.id}`,checked:c.tags.includes(t.id),onChange:()=>y(t.id),className:"border-border text-accent focus:border-accent focus:ring-accent focus:ring-opacity-50 cursor-pointer rounded shadow-sm focus:ring"}),e.jsx("label",{htmlFor:`tag-${t.id}`,className:"text-card-foreground ml-2 cursor-pointer text-sm",children:t.name})]},t.id)),l.length===0&&e.jsx("p",{className:"text-muted-foreground text-sm",children:"No tags available"})]}),s.tags&&e.jsx("p",{className:"text-accent mt-1 text-sm",children:s.tags})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_published",checked:c.is_published,onChange:t=>a("is_published",t.target.checked),className:"border-border text-accent focus:border-accent focus:ring-accent focus:ring-opacity-50 cursor-pointer rounded shadow-sm focus:ring"}),e.jsx("label",{htmlFor:"is_published",className:"text-card-foreground ml-2 cursor-pointer text-sm",children:"Publish immediately"})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("button",{type:"submit",disabled:n,className:"bg-primary text-primary-foreground hover:bg-opacity-90 active:bg-opacity-80 ring-primary inline-flex w-full cursor-pointer items-center justify-center rounded-md border border-transparent px-4 py-2 text-xs font-semibold tracking-widest uppercase transition focus:ring focus:outline-none disabled:opacity-25",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),n?"Saving...":"Save Blog Post"]})})]})]})})]})})})})]})};export{$ as default};
